<div id="overview" class="container-fluid content padding-top-15">
  <div class="row">
    <!-- left column -->
    <div class="col-xs-12 col-sm-5 col-sm-offset-1">
      <h1>Edit Profile</h1>
      <form role="form">
        <div class="form-group">
          <p class="help-block">The fields marked with <span class="required-pf">*</span> are required.</p>
        </div>
        <div class="form-group">
          <label for="fullName" class="control-label">Name</label>
          <div [ngClass]="{'has-error': fullNameInvalid}">
            <input type="text" class="form-control" id="fullName" name="fullName"
                    placeholder="Enter your full name"
                    [(ngModel)]="fullName">
          </div>
        </div>
        <div class="form-group">
          <label for="email" class="control-label required-pf">Email</label>
          <div [ngClass]="{'has-error': emailInvalid}">
            <input type="email" class="form-control" id="email" name="email" #_email
                    placeholder="name@gmail.com"
                    [(ngModel)]="email"
                    (change)="validateEmail()">
          </div>
        </div>
        <div class="form-group">
          <label for="company" class="control-label">Company</label>
          <div [ngClass]="{'has-error': companyInvalid}">
            <input type="text" class="form-control" id="company" name="company"
                    placeholder="name@gmail.com"
                    [(ngModel)]="company">
          </div>
        </div>
        <div class="form-group">
          <label for="previewImg" class="control-label padding-left-none">Profile photo</label>
          <div class="col-xs-12 preview-cont padding-left-none">
            <img id="previewImg" src="{{imageUrl}}" class="col-xs-2 preview-img padding-left-none"
                *ngIf="imageUrl !== undefined && imageUrl.length > 0">
            <img id="previewImg" src="../../../assets/images/profile-user.png" class="col-xs-2 preview-img-none"
                *ngIf="imageUrl === undefined || imageUrl.length === 0">
            <span class="col-xs-8 col-sm-6 col-md-7 preview-field" [ngClass]="{'has-error': imageUrlInvalid}">
              <input type="text" class="form-control" id="imageUrl" name="imageUrl" #_imageUrl
                    placeholder="http://www.myphoto.com"
                    [(ngModel)]="imageUrl"
                    (change)="validateImageUrl()">
            </span>
            <button class="col-xs-2 col-sm-3 btn btn-default preview-btn" id="linkImageUrl"
                    [disabled]="imageUrlInvalid"
                    (click)="linkImageUrl()">
              <i class="pficon pficon-arrow"></i> Link Profile Photo
            </button>
          </div>
        </div>
        <div class="form-group">
          <label for="url" class="control-label">URL</label>
          <div [ngClass]="{'has-error': urlInvalid}">
            <input type="text" class="form-control" id="url" name="url" #_url
                  placeholder="http://www.myprofile.com"
                  [(ngModel)]="url"
                  (change)="validateUrl()">
          </div>
        </div>
        <div class="form-group">
          <label for="bio">Bio</label>
          <alm-remainingchars [config]="remainingCharsConfig" #_bio
                              (onChange)="handleBioChange($event)"></alm-remainingchars>
          <span class="pull-right chars-remaining-pf">
            <span #remainingCountElement></span>
            <span class="fields-status-pf">characters remaining</span>
          </span>
        </div>
        <div class="form-group">
          <div class="divider"></div>
        </div>
        <div class="form-group">
          <h2>Advanced</h2>
        </div>
        <div class="form-group">
          <label for="token" class="control-label margin-top-15">Personal Access Token</label>
          <div class="panel panel-default" id="token">
            <div class="panel-heading token-heading-cont">
              <i class="padding-top-13 fa"
                [ngClass]="{'fa-angle-down': tokenPanelOpen, 'fa-angle-right': !tokenPanelOpen}"
                (click)="toggleTokenPanel()"></i>
              <p class="token-heading padding-top-10 padding-right-15 margin-right-5"
                [ngClass]="{'padding-left-11': tokenPanelOpen, 'padding-left-15': !tokenPanelOpen}">{{token}}</p>
              <button class="btn btn-lg btn-default"
                      (click)="copyTokenToClipboard()">Copy</button>
            </div>
            <div class="panel-body margin-left-15 margin-right-15" *ngIf="tokenPanelOpen">
              <p class="token-body padding-left-5 padding-right-5">{{token}}</p>
            </div>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-lg btn-default"
                  (click)="updateTenent()">Update tenant</button>
        </div>
        <div class="col-xs-12 padding-top-15 padding-left-none">
          <button class="btn btn-lg btn-primary btn-update"
                  [disabled]="isUpdateProfileDisabled"
                  (click)="updateProfile()">Update</button>
          <button class="btn btn-lg btn-default btn-cancel"
            (click)="routeToProfile()">Cancel</button>
        </div>
      </form>
    </div>
    <!-- right column -->
    <div class="col-xs-12 col-sm-5 col-sm-offset-1">
      <form>
        <div class="form-group padding-top-40">
          <h2>Experimental Features</h2>
          <p>The legal text goes here. Please don't blame us for using this feature.</p>
        </div>
        <div class="checkbox">
          <label class="padding-left-none" for="experimental">
            <input type="checkbox" id="experimental" name="experimental"
                   [(ngModel)]="isExperimental"> I agree to the terms above and would like to opt into experimental features
          </label>
        </div>
      </form>
    </div>
  </div>
</div>
