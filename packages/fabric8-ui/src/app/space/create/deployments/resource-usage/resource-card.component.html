<div class="card-pf" *ngIf="environment && spaceId; else loading">
  <div class="card-pf-body resource-card-body">
    <utilization-bar
      [resourceTitle]="'CPU'"
      [resourceUnit]="'Cores'"
      [stat]="deploymentsService.getEnvironmentCpuUtilization(spaceId, environment)"
      [status]="deploymentStatusService.getEnvironmentCpuStatus(spaceId, environment)"
    ></utilization-bar>
    <utilization-bar
      [resourceTitle]="'Memory'"
      [resourceUnit]="memUnit | async"
      [stat]="deploymentsService.getEnvironmentMemoryUtilization(spaceId, environment)"
      [status]="deploymentStatusService.getEnvironmentMemoryStatus(spaceId, environment)"
    ></utilization-bar>
  </div>
</div>
<ng-template #loading>
  <div class="card-pf">
    <div class="card-pf-body resource-card-body">
      <loading-utilization-bar
        [resourceTitle]="'CPU'"
        [resourceUnit]="'Cores'"
      ></loading-utilization-bar>
      <loading-utilization-bar
        [resourceTitle]="'Memory'"
        [resourceUnit]="'MB'"
      ></loading-utilization-bar>
    </div>
  </div>
</ng-template>
