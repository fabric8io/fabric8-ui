<div
  class="blank-slate-pf col-sm-8 col-sm-offset-2"
  id="getting-started-error"
  *ngIf="errorConnecting && !loading"
>
  <div class="blank-slate-pf-icon">
    <img src="../../assets/images/badconnection.svg" class="f8-getting-started-image" />
  </div>
  <h1>We're having trouble connecting your account.</h1>
  <p>
    It looks like we're having trouble linking your CodeReady Toolchain account to your OpenShift
    Online account. This is preventing you from logging into your CodeReady Toolchain account.
    Please log out and try to log in again.
  </p>
  <div class="blank-slate-pf-main-action">
    <button class="btn btn-primary btn-lg" (click)="logOut()">Log Out</button>
  </div>
</div>
<fabric8-loading-widget
  message="Please wait while we load your spaces"
  *ngIf="loading === true"
></fabric8-loading-widget>
<section id="homepage" *ngIf="!errorConnecting && !loading">
  <f8-feature-toggle
    featureName="Analyze.newHomeDashboard"
    [userLevel]="user"
    [defaultLevel]="default"
  ></f8-feature-toggle>
  <ng-template #user>
    <fabric8-loading-widget
      message="Please wait while we load your spaces"
      *ngIf="spacesCount === -1"
    ></fabric8-loading-widget>
    <fabric8-home-empty-state *ngIf="spacesCount === 0"></fabric8-home-empty-state>
    <ng-container *ngIf="spacesCount > 0 && loggedInUser && loggedInUser.attributes">
      <div
        class="container-fluid container-cards-pf f8-home-wrapper"
        *ngIf="loggedInUser && loggedInUser.attributes"
      >
        <div class="cards-pf">
          <div class="row row-cards-pf">
            <div class="col-xs-12 col-md-4">
              <fabric8-recent-spaces-widget
                [cardSizeClass]="'f8-card-lg'"
                [cardBodySizeClass]="'f8-card-body-lg'"
              ></fabric8-recent-spaces-widget>
            </div>
            <div class="col-xs-12 col-md-4">
              <fabric8-recent-workspaces-widget></fabric8-recent-workspaces-widget>
            </div>
            <div class="col-xs-12 col-md-4"><alm-work-item-widget></alm-work-item-widget></div>
          </div>
        </div>
      </div>
    </ng-container>
  </ng-template>
  <ng-template #default>
    <div
      class="container-fluid container-cards-pf home-wrapper"
      *ngIf="loggedInUser && loggedInUser.attributes"
    >
      <div class="cards-pf">
        <div class="row row-cards-pf">
          <div class="col-xs-12 col-md-4">
            <fabric8-recent-spaces-widget
              [cardSizeClass]="'f8-card'"
              [cardBodySizeClass]="'f8-card-body'"
            ></fabric8-recent-spaces-widget>
          </div>
          <div class="col-xs-12 col-md-4"><alm-work-item-widget></alm-work-item-widget></div>
          <div class="col-xs-12 col-md-4">
            <fabric8-recent-pipelines-widget></fabric8-recent-pipelines-widget>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</section>
